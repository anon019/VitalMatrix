<!--pages/index/index.wxml-->
<view class="container">
  <!-- ========== æ ¸å¿ƒå¥åº·çŠ¶æ€åŒº - ç»Ÿä¸€æµ…è‰²é£æ ¼ ========== -->
  <view class="health-hero">
    <!-- é¡¶éƒ¨é—®å€™æ  -->
    <view class="hero-greeting">
      <text class="greeting-emoji">{{greetingEmoji}}</text>
      <view class="greeting-info">
        <text class="greeting-text">{{greeting}}</text>
        <text class="greeting-date">{{todayDateFull}}</text>
      </view>
    </view>

    <!-- åŒè¯„åˆ†éª¨æ¶å± -->
    <view class="dual-score-section skeleton-section" wx:if="{{loading}}">
      <view class="score-card">
        <view class="skeleton-ring skeleton-animate"></view>
        <view class="score-info">
          <view class="skeleton-text-md skeleton-animate"></view>
          <view class="skeleton-badge skeleton-animate"></view>
        </view>
      </view>
      <view class="score-divider"></view>
      <view class="score-card">
        <view class="skeleton-ring skeleton-animate"></view>
        <view class="score-info">
          <view class="skeleton-text-md skeleton-animate"></view>
          <view class="skeleton-badge skeleton-animate"></view>
        </view>
      </view>
    </view>

    <!-- åŒè¯„åˆ†æ ¸å¿ƒåŒº -->
    <view class="dual-score-section" wx:if="{{!loading}}">
      <!-- å‡†å¤‡åº¦è¯„åˆ† -->
      <view class="score-card readiness-card">
        <view class="score-ring-wrap">
          <view class="score-ring readiness-ring">
            <view class="ring-track"></view>
            <view class="ring-progress {{readinessLevel}}" style="--progress: {{readinessData.score || 0}};"></view>
            <view class="ring-center">
              <text class="ring-value">{{readinessData.score || '--'}}</text>
            </view>
          </view>
        </view>
        <view class="score-info">
          <text class="score-label">å‡†å¤‡åº¦</text>
          <text class="score-status {{readinessLevel}}">{{actionAdvice.title}}</text>
        </view>
      </view>

      <!-- åˆ†éš”çº¿ -->
      <view class="score-divider"></view>

      <!-- ç¡çœ è¯„åˆ† -->
      <view class="score-card sleep-card">
        <view class="score-ring-wrap">
          <view class="score-ring sleep-ring">
            <view class="ring-track"></view>
            <view class="ring-progress {{sleepLevel}}" style="--progress: {{sleepData.score || 0}};"></view>
            <view class="ring-center">
              <text class="ring-value">{{sleepData.score || '--'}}</text>
            </view>
          </view>
        </view>
        <view class="score-info">
          <text class="score-label">ç¡çœ </text>
          <text class="score-status {{sleepLevel}}">{{sleepAdvice.title}}</text>
        </view>
      </view>
    </view>

    <!-- å››æŒ‡æ ‡éª¨æ¶å± -->
    <view class="metrics-row" wx:if="{{loading}}">
      <view class="metric-item" wx:for="{{[1,2,3,4]}}" wx:key="index">
        <view class="skeleton-icon-sm skeleton-animate"></view>
        <view class="skeleton-text-sm skeleton-animate"></view>
        <view class="skeleton-text-xs skeleton-animate"></view>
      </view>
    </view>

    <!-- æ ¸å¿ƒå››æŒ‡æ ‡ -->
    <view class="metrics-row" wx:if="{{!loading}}">
      <view class="metric-item">
        <view class="metric-icon-wrap hrv-icon"><text class="metric-icon">ğŸ’“</text></view>
        <text class="metric-value">{{readinessData.hrv || '--'}}</text>
        <text class="metric-label">HRV</text>
        <view class="metric-delta {{hrvDelta.direction}}" wx:if="{{hrvDelta}}">
          <text>{{hrvDelta.direction === 'up' ? 'â†‘' : 'â†“'}}{{hrvDelta.value}}</text>
        </view>
      </view>
      <view class="metric-item">
        <view class="metric-icon-wrap rhr-icon"><text class="metric-icon">â¤ï¸</text></view>
        <text class="metric-value">{{readinessData.resting_hr || '--'}}</text>
        <text class="metric-label">é™æ¯å¿ƒç‡</text>
        <view class="metric-delta {{rhrDelta.direction}}" wx:if="{{rhrDelta}}">
          <text>{{rhrDelta.direction === 'up' ? 'â†‘' : 'â†“'}}{{rhrDelta.value}}</text>
        </view>
      </view>
      <view class="metric-item">
        <view class="metric-icon-wrap deep-icon"><text class="metric-icon">ğŸŒ™</text></view>
        <text class="metric-value">{{sleepData.deep_min || '--'}}</text>
        <text class="metric-label">æ·±ç¡çœ </text>
        <view class="metric-delta {{deepDelta.direction}}" wx:if="{{deepDelta}}">
          <text>{{deepDelta.direction === 'up' ? 'â†‘' : 'â†“'}}{{deepDelta.value}}</text>
        </view>
      </view>
      <view class="metric-item">
        <view class="metric-icon-wrap rem-icon"><text class="metric-icon">ğŸ’¤</text></view>
        <text class="metric-value">{{sleepData.rem_min || '--'}}</text>
        <text class="metric-label">REM</text>
        <view class="metric-delta {{remDelta.direction}}" wx:if="{{remDelta}}">
          <text>{{remDelta.direction === 'up' ? 'â†‘' : 'â†“'}}{{remDelta.value}}</text>
        </view>
      </view>
    </view>

    <!-- å¼‚å¸¸è­¦æŠ¥ -->
    <view class="alert-banner {{alertType}}" wx:if="{{morningAlert}}">
      <text class="alert-icon">{{morningAlert.icon}}</text>
      <text class="alert-text">{{morningAlert.message}}</text>
    </view>
  </view>


  <!-- éª¨æ¶å±åŠ è½½çŠ¶æ€ -->
  <view class="skeleton-container" wx:if="{{loading}}">
    <view class="skeleton-card" wx:for="{{[1,2,3]}}" wx:key="index">
      <view class="skeleton-header">
        <view class="skeleton-icon skeleton-animate"></view>
        <view class="skeleton-title skeleton-animate"></view>
        <view class="skeleton-tag skeleton-animate"></view>
      </view>
      <view class="skeleton-stats">
        <view class="skeleton-stat-item skeleton-animate"></view>
        <view class="skeleton-stat-item skeleton-animate"></view>
        <view class="skeleton-stat-item skeleton-animate"></view>
      </view>
      <view class="skeleton-bar skeleton-animate"></view>
    </view>
    <view class="skeleton-loading-tip">
      <view class="loading-spinner"></view>
      <text class="loading-text">æ­£åœ¨è·å–å¥åº·æ•°æ®...</text>
    </view>
  </view>

  <!-- å†…å®¹åŒºåŸŸ -->
  <view class="content-area" wx:if="{{!loading}}">

    <!-- æ•°æ®å¼‚å¸¸æé†’åŒº -->
    <view class="alerts-section card-appear" wx:if="{{alerts.length > 0}}" style="animation-delay: 0.15s">
      <view class="alert-item {{alert.type}}" wx:for="{{alerts}}" wx:key="index" wx:for-item="alert">
        <text class="alert-icon">{{alert.icon}}</text>
        <text class="alert-text">{{alert.message}}</text>
      </view>
    </view>

    <!-- è®­ç»ƒæ•°æ®å¡ç‰‡ - Polar -->
    <view class="card training-card glass-card card-appear" style="animation-delay: 0.2s">
      <view class="card-header card-header-clickable" bindtap="toggleCard" data-card="training">
        <view class="card-title-row">
          <view class="card-icon-wrapper training-icon-bg">
            <text class="card-icon">ğŸ‹ï¸</text>
          </view>
          <view class="card-title-group">
            <text class="card-title">è®­ç»ƒæ•°æ®</text>
            <text class="card-subtitle">{{trainingDate}}</text>
          </view>
        </view>
        <view class="card-meta">
          <text class="brand-tag polar">Polar</text>
          <view class="expand-arrow {{expandedCards.training ? 'expanded' : ''}}">
            <text class="arrow-icon">â€º</text>
          </view>
        </view>
      </view>

      <view wx:if="{{trainingData}}">
        <!-- æ ¸å¿ƒæŒ‡æ ‡ - Zone2 + Zone4-5 åŒæ ¸å¿ƒ -->
        <view class="training-dual-hero">
          <view class="training-hero-item zone2-hero">
            <view class="zone-target-row">
              <text class="training-big-value zone2-color">{{trainingData.zone2_min || 0}}</text>
              <text class="training-big-unit">åˆ†é’Ÿ</text>
            </view>
            <text class="training-big-label">ğŸƒ Zone2ç‡ƒè„‚åŒº</text>
          </view>
          <view class="training-hero-divider"></view>
          <view class="training-hero-item hi-hero">
            <view class="zone-target-row">
              <text class="training-big-value zone5-color">{{trainingData.hi_min || 0}}</text>
              <text class="training-big-unit">åˆ†é’Ÿ</text>
            </view>
            <text class="training-big-label">ğŸ”¥ Zone4-5é«˜å¼ºåº¦</text>
          </view>
        </view>

        <!-- æ¬¡è¦æŒ‡æ ‡è¡Œ - è„‚è‚ªç‡ƒçƒ§ + å¡è·¯é‡Œ + æ—¶é•¿ -->
        <view class="metric-row">
          <view class="metric-chip highlight-chip">
            <text class="chip-value orange">{{trainingData.fat_burn || 0}}<text class="chip-unit">g</text></text>
            <text class="chip-label">è„‚è‚ªç‡ƒçƒ§</text>
          </view>
          <view class="metric-chip">
            <text class="chip-value">{{trainingData.calories || 0}}<text class="chip-unit">kcal</text></text>
            <text class="chip-label">æ¶ˆè€—</text>
          </view>
          <view class="metric-chip">
            <text class="chip-value">{{trainingData.duration_min || 0}}<text class="chip-unit">min</text></text>
            <text class="chip-label">æ€»æ—¶é•¿</text>
          </view>
        </view>

        <!-- å¿ƒç‡åŒºé—´æ¡ -->
        <view class="zone-section">
          <view class="zone-header">
            <text class="zone-title">å¿ƒç‡åŒºé—´åˆ†å¸ƒ</text>
          </view>
          <view class="zone-stacked-bar animated-bar">
            <view class="zone-bar-segment zone1-bar" style="width: {{trainingData.zone1_percent || 0}}%;" wx:if="{{trainingData.zone1_percent > 0}}">
              <text class="bar-label" wx:if="{{trainingData.zone1_percent > 8}}">{{trainingData.zone1_min}}</text>
            </view>
            <view class="zone-bar-segment zone2-bar" style="width: {{trainingData.zone2_percent || 0}}%;" wx:if="{{trainingData.zone2_percent > 0}}">
              <text class="bar-label" wx:if="{{trainingData.zone2_percent > 8}}">{{trainingData.zone2_min}}</text>
            </view>
            <view class="zone-bar-segment zone3-bar" style="width: {{trainingData.zone3_percent || 0}}%;" wx:if="{{trainingData.zone3_percent > 0}}">
              <text class="bar-label" wx:if="{{trainingData.zone3_percent > 8}}">{{trainingData.zone3_min}}</text>
            </view>
            <view class="zone-bar-segment zone4-bar" style="width: {{trainingData.zone4_percent || 0}}%;" wx:if="{{trainingData.zone4_percent > 0}}">
              <text class="bar-label" wx:if="{{trainingData.zone4_percent > 8}}">{{trainingData.zone4_min}}</text>
            </view>
            <view class="zone-bar-segment zone5-bar" style="width: {{trainingData.zone5_percent || 0}}%;" wx:if="{{trainingData.zone5_percent > 0}}">
              <text class="bar-label" wx:if="{{trainingData.zone5_percent > 8}}">{{trainingData.zone5_min}}</text>
            </view>
          </view>
          <view class="zone-legend-inline">
            <view class="legend-item"><view class="legend-dot zone2-dot"></view><text>Z2 {{trainingData.zone2_min}}åˆ†</text></view>
            <view class="legend-item"><view class="legend-dot zone4-dot"></view><text>Z4-5 {{trainingData.hi_min}}åˆ†</text></view>
          </view>
        </view>

        <!-- å±•å¼€è¯¦æƒ… -->
        <view class="card-details {{expandedCards.training ? 'expanded' : ''}}">
          <view class="detail-grid detail-grid-4">
            <view class="detail-item">
              <text class="detail-value {{trainingData.avgHrColor}}">{{trainingData.avg_hr || '--'}} <text class="detail-unit">bpm</text></text>
              <text class="detail-label">å¹³å‡å¿ƒç‡</text>
            </view>
            <view class="detail-item">
              <text class="detail-value zone5-color">{{trainingData.max_hr || '--'}} <text class="detail-unit">bpm</text></text>
              <text class="detail-label">æœ€å¤§å¿ƒç‡</text>
            </view>
            <view class="detail-item">
              <text class="detail-value">{{trainingData.trimp || 0}}</text>
              <text class="detail-label">TRIMP</text>
            </view>
            <view class="detail-item">
              <text class="detail-value">{{trainingData.distance || 0}} <text class="detail-unit">ç±³</text></text>
              <text class="detail-label">è·ç¦»</text>
            </view>
          </view>

          <view class="time-range-new">
            <view class="time-point">
              <text class="time-icon">ğŸ</text>
              <view class="time-info">
                <text class="time-label-small">å¼€å§‹</text>
                <text class="time-value-large">{{trainingData.start_time}}</text>
              </view>
            </view>
            <view class="time-connector">
              <view class="time-line"></view>
              <text class="time-duration">{{trainingData.duration_min}}åˆ†é’Ÿ</text>
              <view class="time-line"></view>
            </view>
            <view class="time-point">
              <text class="time-icon">ğŸ¯</text>
              <view class="time-info">
                <text class="time-label-small">ç»“æŸ</text>
                <text class="time-value-large">{{trainingData.end_time}}</text>
              </view>
            </view>
          </view>
        </view>
      </view>

      <view class="empty-state" wx:else>
        <text class="empty-icon">ğŸƒ</text>
        <text class="empty-text">æš‚æ— è®­ç»ƒæ•°æ®</text>
      </view>
    </view>

    <!-- ç¡çœ æ•°æ®å¡ç‰‡ - Oura -->
    <view class="card sleep-card glass-card card-appear" style="animation-delay: 0.25s">
      <view class="card-header card-header-clickable" bindtap="toggleCard" data-card="sleep">
        <view class="card-title-row">
          <view class="card-icon-wrapper sleep-icon-bg">
            <text class="card-icon">ğŸ˜´</text>
          </view>
          <view class="card-title-group">
            <text class="card-title">ç¡çœ æ•°æ®</text>
            <text class="card-subtitle">{{sleepDate}}</text>
          </view>
        </view>
        <view class="card-meta">
          <text class="brand-tag oura">Oura</text>
          <view class="expand-arrow {{expandedCards.sleep ? 'expanded' : ''}}">
            <text class="arrow-icon">â€º</text>
          </view>
        </view>
      </view>

      <view wx:if="{{sleepData}}">
        <!-- æ ¸å¿ƒæŒ‡æ ‡ - æ·±ç¡çœ  + ç¡çœ è¯„åˆ† åŒæ ¸å¿ƒ -->
        <view class="sleep-dual-hero">
          <view class="sleep-hero-item deep-hero">
            <view class="zone-target-row">
              <text class="sleep-big-value deep-color">{{sleepData.deep_min || 0}}</text>
              <text class="sleep-big-unit">åˆ†é’Ÿ</text>
              <view class="target-badge {{sleepData.deep_min >= 60 ? 'badge-success' : sleepData.deep_min >= 45 ? 'badge-warning' : 'badge-danger'}}">
                <text>{{sleepData.deep_min >= 60 ? 'å……è¶³' : sleepData.deep_min >= 45 ? 'ä¸€èˆ¬' : 'ä¸è¶³'}}</text>
              </view>
            </view>
            <text class="sleep-big-label">ğŸŒ™ æ·±ç¡çœ </text>
            <text class="target-hint">ç›®æ ‡â‰¥60åˆ†é’Ÿ</text>
          </view>
          <view class="sleep-hero-divider"></view>
          <view class="sleep-hero-item score-hero">
            <view class="zone-target-row">
              <text class="sleep-big-value purple">{{sleepData.score || 0}}</text>
              <text class="nap-badge-small" wx:if="{{sleepData.hasNap}}">+{{sleepData.napScoreBoost}}</text>
            </view>
            <text class="sleep-big-label">ğŸ˜´ ç¡çœ è¯„åˆ†</text>
            <text class="target-hint">{{sleepData.total_duration || '--'}}</text>
          </view>
        </view>

        <!-- å…³é”®ç›‘æµ‹æŒ‡æ ‡ï¼ˆä¸æ·±ç¡çœ æ”¹å–„ç›¸å…³ï¼‰ -->
        <view class="metric-row four-col">
          <view class="metric-chip small highlight-chip-blue">
            <text class="chip-value {{sleepData.restlessColor}}">{{sleepData.restless_periods || 0}}<text class="chip-unit">æ¬¡</text></text>
            <text class="chip-label">ç¿»èº«æ¬¡æ•°</text>
          </view>
          <view class="metric-chip small">
            <text class="chip-value {{sleepData.efficiencyColor}}">{{sleepData.efficiency || 0}}%</text>
            <text class="chip-label">æ•ˆç‡</text>
          </view>
          <view class="metric-chip small">
            <text class="chip-value {{sleepData.latencyColor}}">{{sleepData.latency_min || 0}}<text class="chip-unit">min</text></text>
            <text class="chip-label">å…¥ç¡å»¶è¿Ÿ</text>
          </view>
          <view class="metric-chip small spo2-chip">
            <text class="chip-value red">{{sleepData.spo2 || '--'}}%</text>
            <text class="chip-label">è¡€æ°§</text>
          </view>
        </view>

        <!-- ç¡çœ é˜¶æ®µæ¡ -->
        <view class="zone-section">
          <view class="zone-header">
            <text class="zone-title">ç¡çœ é˜¶æ®µ</text>
          </view>
          <view class="sleep-stage-bar animated-bar">
            <view class="sleep-bar-segment deep-bar" style="width: {{sleepData.deepPercent || 0}}%;" wx:if="{{sleepData.deepPercent > 0}}">
              <text class="bar-label" wx:if="{{sleepData.deepPercent > 10}}">{{sleepData.deep_min}}</text>
            </view>
            <view class="sleep-bar-segment rem-bar" style="width: {{sleepData.remPercent || 0}}%;" wx:if="{{sleepData.remPercent > 0}}">
              <text class="bar-label" wx:if="{{sleepData.remPercent > 10}}">{{sleepData.rem_min}}</text>
            </view>
            <view class="sleep-bar-segment light-bar" style="width: {{sleepData.lightPercent || 0}}%;" wx:if="{{sleepData.lightPercent > 0}}">
              <text class="bar-label" wx:if="{{sleepData.lightPercent > 10}}">{{sleepData.light_min}}</text>
            </view>
            <view class="sleep-bar-segment awake-bar" style="width: {{sleepData.awakePercent || 0}}%;" wx:if="{{sleepData.awakePercent > 0}}">
              <text class="bar-label" wx:if="{{sleepData.awakePercent > 10}}">{{sleepData.awake_min}}</text>
            </view>
          </view>
          <view class="zone-legend-inline sleep-legend-inline">
            <view class="legend-item"><view class="legend-dot deep-dot"></view><text>æ·±ç¡ {{sleepData.deep_min}}åˆ†</text></view>
            <view class="legend-item"><view class="legend-dot rem-dot"></view><text>REM {{sleepData.rem_min}}åˆ†</text></view>
            <view class="legend-item"><view class="legend-dot light-dot"></view><text>æµ…ç¡ {{sleepData.light_min}}åˆ†</text></view>
            <view class="legend-item"><view class="legend-dot awake-dot"></view><text>æ¸…é†’ {{sleepData.awake_min}}åˆ†</text></view>
          </view>
        </view>

        <!-- å±•å¼€è¯¦æƒ… -->
        <view class="card-details {{expandedCards.sleep ? 'expanded' : ''}}">
          <view class="detail-section-title">å¿ƒç‡ä¸å‘¼å¸</view>
          <view class="detail-grid">
            <view class="detail-item">
              <text class="detail-value {{sleepData.hrAverageColor}}">{{sleepData.hr_average || '--'}} <text class="detail-unit">bpm</text></text>
              <text class="detail-label">å¹³å‡å¿ƒç‡</text>
            </view>
            <view class="detail-item">
              <text class="detail-value {{sleepData.hrLowestColor}}">{{sleepData.hr_lowest || '--'}} <text class="detail-unit">bpm</text></text>
              <text class="detail-label">æœ€ä½å¿ƒç‡</text>
            </view>
            <view class="detail-item">
              <text class="detail-value {{sleepData.breathingColor}}">{{sleepData.breathing_rate || '--'}} <text class="detail-unit">æ¬¡/åˆ†</text></text>
              <text class="detail-label">å‘¼å¸é¢‘ç‡</text>
            </view>
          </view>

          <view class="detail-section-title">ç¡çœ è´¨é‡</view>
          <view class="detail-grid">
            <view class="detail-item">
              <text class="detail-value {{sleepData.latencyColor}}">{{sleepData.latency_min || 0}} <text class="detail-unit">åˆ†é’Ÿ</text></text>
              <text class="detail-label">å…¥ç¡å»¶è¿Ÿ</text>
            </view>
            <view class="detail-item">
              <text class="detail-value {{sleepData.restlessColor}}">{{sleepData.restless_periods || 0}} <text class="detail-unit">æ¬¡</text></text>
              <text class="detail-label">ç¿»èº«æ¬¡æ•°</text>
            </view>
            <view class="detail-item">
              <text class="detail-value">{{sleepData.time_in_bed || 0}} <text class="detail-unit">åˆ†é’Ÿ</text></text>
              <text class="detail-label">åœ¨åºŠæ—¶é—´</text>
            </view>
          </view>

          <!-- ç¡çœ æ—¶é—´æ®µ -->
          <view class="sleep-time-blocks">
            <!-- ç¢ç‰‡ç¡çœ æç¤º -->
            <view class="fragmented-sleep-hint" wx:if="{{!sleepData.hasMainSleep}}">
              <text class="hint-icon">âš ï¸</text>
              <text class="hint-text">{{sleepData.sleep_type}}ï¼Œæœªæ£€æµ‹åˆ°è¿ç»­é•¿ç¡çœ </text>
            </view>

            <!-- ä¸»ç¡çœ /æœ€é•¿ç¡çœ æ®µ -->
            <view class="time-block {{sleepData.hasMainSleep ? '' : 'fragmented'}}">
              <view class="block-header">
                <text class="block-icon">{{sleepData.hasMainSleep ? 'ğŸŒ™' : 'ğŸ’¤'}}</text>
                <text class="block-title">{{sleepData.hasMainSleep ? 'ä¸»ç¡çœ ' : 'æœ€é•¿ç¡çœ '}}</text>
                <text class="block-duration">{{sleepData.main_sleep_duration}}</text>
              </view>
              <view class="time-range">
                <view class="time-start">
                  <text class="time-label">å…¥ç¡</text>
                  <text class="time-text">{{sleepData.bedtime}}</text>
                </view>
                <view class="range-line"></view>
                <view class="time-end">
                  <text class="time-label">é†’æ¥</text>
                  <text class="time-text">{{sleepData.wake_time}}</text>
                </view>
              </view>
            </view>

            <!-- åˆç¡/ç¬¬äºŒæ®µç¡çœ  -->
            <view class="time-block nap-block" wx:if="{{sleepData.nap_bedtime}}">
              <view class="block-header">
                <text class="block-icon">{{sleepData.hasMainSleep ? 'â˜€ï¸' : 'ğŸ˜´'}}</text>
                <text class="block-title">{{sleepData.hasMainSleep ? 'åˆç¡' : 'ç¬¬äºŒæ®µ'}}</text>
                <text class="block-duration nap">{{sleepData.hasMainSleep ? sleepData.nap_duration : sleepData.second_sleep_duration}}</text>
              </view>
              <view class="time-range">
                <view class="time-start">
                  <text class="time-label">å…¥ç¡</text>
                  <text class="time-text">{{sleepData.nap_bedtime}}</text>
                </view>
                <view class="range-line nap-line"></view>
                <view class="time-end">
                  <text class="time-label">é†’æ¥</text>
                  <text class="time-text">{{sleepData.nap_wake_time}}</text>
                </view>
              </view>
            </view>

            <!-- æ€»è®¡ï¼ˆæœ‰å¤šæ®µç¡çœ æ—¶æ˜¾ç¤ºï¼‰ -->
            <view class="time-summary" wx:if="{{sleepData.hasNap || sleepData.hasMultipleSegments}}">
              <text class="summary-icon">ğŸ’¤</text>
              <text class="summary-text">æ€»ç¡çœ </text>
              <text class="summary-value">{{sleepData.total_duration}}</text>
            </view>
          </view>

          <!-- ç¡çœ å¿ƒç‡è¯¦æƒ… - æœ€ä½å¿ƒç‡æ—¶é—´ç‚¹åˆ†æ -->
          <view class="heartrate-detail-section" wx:if="{{heartrateDetail}}">
            <view class="detail-section-title">ğŸ’“ ç¡çœ å¿ƒç‡è¯¦æƒ…</view>

            <!-- æ ¸å¿ƒæŒ‡æ ‡ï¼šæœ€ä½å¿ƒç‡ + å‡ºç°æ—¶é—´ -->
            <view class="hr-timing-hero">
              <view class="hr-timing-icon-bg">
                <text class="hr-timing-icon">â™¥</text>
              </view>
              <view class="hr-timing-main">
                <text class="hr-timing-value {{heartrateDetail.progress_color}}">{{heartrateDetail.lowest_hr}}</text>
                <text class="hr-timing-unit">bpm</text>
              </view>
              <view class="hr-timing-sub">
                <text class="hr-timing-time">{{heartrateDetail.lowest_hr_time}}</text>
                <text class="hr-timing-divider">Â·</text>
                <text class="hr-timing-phase">{{heartrateDetail.sleep_phase}}</text>
                <view class="hr-timing-badge {{heartrateDetail.recovery_quality_color}}" wx:if="{{heartrateDetail.recovery_quality}}">
                  <text>{{heartrateDetail.recovery_quality}}</text>
                </view>
              </view>
            </view>

            <!-- ç¡çœ è¿›åº¦æ¡ï¼šæ˜¾ç¤ºæœ€ä½å¿ƒç‡å‡ºç°çš„æ—¶é—´ç‚¹ -->
            <view class="sleep-progress-container">
              <view class="sleep-progress-header">
                <text class="progress-title">æ¢å¤æ—¶æœº</text>
                <text class="progress-value {{heartrateDetail.progress_color}}">{{heartrateDetail.sleep_progress_percent}}%</text>
              </view>
              <view class="sleep-progress-track">
                <view class="progress-zone zone-optimal"></view>
                <view class="progress-zone zone-suboptimal"></view>
                <view class="progress-marker-line {{heartrateDetail.progress_color}}" style="left: {{heartrateDetail.sleep_progress_percent}}%;"></view>
                <view class="progress-marker-dot {{heartrateDetail.progress_color}}" style="left: {{heartrateDetail.sleep_progress_percent}}%;"></view>
              </view>
              <view class="sleep-progress-zone-labels">
                <text class="zone-name green">ç†æƒ³åŒº</text>
                <text class="zone-name orange">æ¬¡ä¼˜åŒº</text>
              </view>
              <view class="sleep-progress-labels">
                <text class="progress-label">å…¥ç¡</text>
                <text class="progress-label center">50%</text>
                <text class="progress-label">é†’æ¥</text>
              </view>
              <view class="progress-note" wx:if="{{heartrateDetail.recovery_note}}">
                <text class="{{heartrateDetail.recovery_quality_color}}">{{heartrateDetail.recovery_note}}</text>
              </view>
            </view>

            <!-- ç¡çœ å¿ƒç‡èŒƒå›´ -->
            <view class="hr-range-card">
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap green-bg">
                  <text class="hr-range-icon">â†“</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value green">{{heartrateDetail.hr_min}}</text>
                  <text class="hr-range-label">æœ€ä½</text>
                </view>
              </view>
              <view class="hr-range-divider"></view>
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap gray-bg">
                  <text class="hr-range-icon">â‰ˆ</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value">{{heartrateDetail.hr_avg}}</text>
                  <text class="hr-range-label">å¹³å‡</text>
                </view>
              </view>
              <view class="hr-range-divider"></view>
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap orange-bg">
                  <text class="hr-range-icon">â†‘</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value orange">{{heartrateDetail.hr_max}}</text>
                  <text class="hr-range-label">æœ€é«˜</text>
                </view>
              </view>
            </view>
          </view>

          <!-- è´¡çŒ®å› å­é›·è¾¾å›¾ - ä½¿ç”¨wx:ifè§£å†³åŸç”Ÿcanvaså±‚å é—®é¢˜ -->
          <view class="radar-section" wx:if="{{expandedCards.sleep}}">
            <view class="detail-section-title">
              è´¡çŒ®å› å­
              <text class="history-hint" wx:if="{{sleepData.contributorsSource === 'history'}}">ï¼ˆæœ€è¿‘ä¸»ç¡çœ ï¼‰</text>
            </view>
            <view class="radar-container" wx:if="{{sleepData.contributors && sleepData.contributors.deep_sleep != null}}">
              <canvas canvas-id="sleepRadar" class="radar-canvas"></canvas>
            </view>
            <view class="no-radar-data" wx:else>
              <text class="no-radar-hint">æš‚æ— è´¡çŒ®å› å­æ•°æ®</text>
            </view>
          </view>
        </view>
      </view>

      <view class="empty-state" wx:else>
        <text class="empty-icon">ğŸ’¤</text>
        <text class="empty-text">æš‚æ— ç¡çœ æ•°æ®</text>
      </view>
    </view>

    <!-- å‡†å¤‡åº¦æ•°æ®å¡ç‰‡ - Ouraï¼ˆå«å‹åŠ›æ•°æ®ï¼‰ -->
    <view class="card readiness-card glass-card card-appear" style="animation-delay: 0.3s">
      <view class="card-header card-header-clickable" bindtap="toggleCard" data-card="readiness">
        <view class="card-title-row">
          <view class="card-icon-wrapper readiness-icon-bg">
            <text class="card-icon">ğŸ”‹</text>
          </view>
          <view class="card-title-group">
            <text class="card-title">å‡†å¤‡åº¦</text>
            <text class="card-subtitle">{{readinessDate}}</text>
          </view>
        </view>
        <view class="card-meta">
          <text class="brand-tag oura">Oura</text>
          <view class="expand-arrow {{expandedCards.readiness ? 'expanded' : ''}}">
            <text class="arrow-icon">â€º</text>
          </view>
        </view>
      </view>

      <view wx:if="{{readinessData}}">
        <!-- æ ¸å¿ƒæŒ‡æ ‡ - HRV + å‡†å¤‡åº¦è¯„åˆ† åŒæ ¸å¿ƒ -->
        <view class="readiness-dual-hero">
          <view class="readiness-hero-item hrv-hero">
            <view class="zone-target-row">
              <text class="readiness-big-value hrv-color">{{readinessData.hrv || '--'}}</text>
              <text class="readiness-big-unit">ms</text>
              <view class="target-badge {{readinessData.hrv >= 40 ? 'badge-success' : readinessData.hrv >= 25 ? 'badge-warning' : 'badge-danger'}}" wx:if="{{readinessData.hrv && readinessData.hrv !== '--'}}">
                <text>{{readinessData.hrv >= 40 ? 'è‰¯å¥½' : readinessData.hrv >= 25 ? 'ä¸€èˆ¬' : 'åä½'}}</text>
              </view>
            </view>
            <text class="readiness-big-label">ğŸ’“ HRVå¿ƒç‡å˜å¼‚</text>
            <text class="target-hint">æ¢å¤çŠ¶æ€æ ¸å¿ƒæŒ‡æ ‡</text>
          </view>
          <view class="readiness-hero-divider"></view>
          <view class="readiness-hero-item score-hero">
            <view class="zone-target-row">
              <text class="readiness-big-value amber">{{readinessData.score || 0}}</text>
              <text class="nap-badge-small" wx:if="{{readinessData.hasNap}}">+{{readinessData.napBoost}}</text>
            </view>
            <text class="readiness-big-label">ğŸ”‹ å‡†å¤‡åº¦è¯„åˆ†</text>
            <text class="target-hint">{{readinessData.score >= 85 ? 'çŠ¶æ€æä½³' : readinessData.score >= 70 ? 'çŠ¶æ€è‰¯å¥½' : 'éœ€è¦ä¼‘æ¯'}}</text>
          </view>
        </view>

        <!-- æ¢å¤å…³é”®ç›‘æµ‹æŒ‡æ ‡ -->
        <view class="metric-row four-col">
          <view class="metric-chip small highlight-chip-green">
            <text class="chip-value {{readinessData.restingHrColor}}">{{readinessData.resting_hr || '--'}}<text class="chip-unit">bpm</text></text>
            <text class="chip-label">é™æ¯å¿ƒç‡</text>
          </view>
          <view class="metric-chip small">
            <text class="chip-value {{readinessData.recoveryColor}}">{{readinessData.recovery_index || 0}}</text>
            <text class="chip-label">æ¢å¤æŒ‡æ•°</text>
          </view>
          <view class="metric-chip small">
            <text class="chip-value {{readinessData.tempDevColor}}">{{readinessData.temperature_deviation || '--'}}Â°</text>
            <text class="chip-label">ä½“æ¸©åå·®</text>
          </view>
          <view class="metric-chip small">
            <text class="chip-value {{readinessData.sleepBalanceColor}}">{{readinessData.sleep_balance || '--'}}</text>
            <text class="chip-label">ç¡çœ å¹³è¡¡</text>
          </view>
        </view>

        <!-- å‹åŠ›ä¸æ¢å¤å¹³è¡¡ - å¯¹æ¯”å¡ç‰‡è®¾è®¡ -->
        <view class="stress-balance-card" wx:if="{{stressData}}">
          <!-- æ—¥æœŸæ ‡æ³¨ï¼ˆå½“éä»Šå¤©æ•°æ®æ—¶æ˜¾ç¤ºï¼‰ -->
          <view class="stress-date-hint" wx:if="{{stressDate && stressDate !== todayDateISO}}">
            <text class="stress-date-icon">ğŸ“…</text>
            <text class="stress-date-text">{{stressDateDisplay}}æ•°æ®</text>
          </view>
          <!-- å¯¹æ¯”åŒºåŸŸ -->
          <view class="stress-compare">
            <!-- å‹åŠ›ä¾§ -->
            <view class="stress-side stress-left">
              <view class="stress-side-header">
                <text class="stress-side-icon">ğŸ˜°</text>
                <text class="stress-side-label">å‹åŠ›</text>
              </view>
              <text class="stress-side-value orange">{{stressData.stressed_display}}</text>
              <text class="stress-side-percent">{{stressData.stress_percent}}%</text>
            </view>

            <!-- ä¸­é—´åˆ†éš” -->
            <view class="stress-divider-center">
              <view class="divider-line"></view>
              <view class="divider-badge {{stressData.summaryColor}}">
                <text class="divider-badge-text">{{stressData.day_summary}}</text>
              </view>
              <view class="divider-line"></view>
            </view>

            <!-- æ¢å¤ä¾§ -->
            <view class="stress-side stress-right">
              <view class="stress-side-header">
                <text class="stress-side-icon">ğŸ˜Œ</text>
                <text class="stress-side-label">æ¢å¤</text>
              </view>
              <text class="stress-side-value green">{{stressData.restored_display}}</text>
              <text class="stress-side-percent">{{stressData.recovery_percent}}%</text>
            </view>
          </view>

          <!-- åº•éƒ¨å¹³è¡¡æ¡ -->
          <view class="stress-balance-bar">
            <view class="balance-segment stress-segment" style="width: {{stressData.stress_percent || 50}}%;"></view>
            <view class="balance-segment recovery-segment" style="width: {{stressData.recovery_percent || 50}}%;"></view>
          </view>
        </view>

        <!-- å±•å¼€è¯¦æƒ… -->
        <view class="card-details {{expandedCards.readiness ? 'expanded' : ''}}">
          <!-- æ—¥é—´å¿ƒç‡è¯¦æƒ… -->
          <view class="daytime-hr-section" wx:if="{{heartrateDetail && heartrateDetail.data_points_count > 0}}">
            <view class="detail-section-title">â˜€ï¸ æ—¥é—´å¿ƒç‡</view>

            <!-- æ—¥é—´é™æ¯å¿ƒç‡ - æ ¸å¿ƒæŒ‡æ ‡ -->
            <view class="daytime-hr-hero">
              <view class="daytime-hr-icon-bg">
                <text class="daytime-hr-icon">â˜€</text>
              </view>
              <view class="daytime-hr-main">
                <text class="daytime-hr-label">æ—¥é—´é™æ¯å¿ƒç‡</text>
                <view class="daytime-hr-value-row">
                  <text class="daytime-hr-value">{{heartrateDetail.daytime_lowest_avg}}</text>
                  <text class="daytime-hr-unit">bpm</text>
                </view>
                <view class="daytime-hr-time-row">
                  <text class="daytime-hr-time-icon">ğŸ•</text>
                  <text class="daytime-hr-time">å‡ºç°äº {{heartrateDetail.daytime_lowest_avg_time}}</text>
                </view>
              </view>
            </view>

            <!-- æ´»åŠ¨å¿ƒç‡èŒƒå›´ -->
            <view class="hr-range-card">
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap green-bg">
                  <text class="hr-range-icon">â†“</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value green">{{heartrateDetail.activity_hr_min}}</text>
                  <text class="hr-range-label">æœ€ä½</text>
                </view>
              </view>
              <view class="hr-range-divider"></view>
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap gray-bg">
                  <text class="hr-range-icon">â‰ˆ</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value">{{heartrateDetail.activity_hr_avg}}</text>
                  <text class="hr-range-label">å¹³å‡</text>
                </view>
              </view>
              <view class="hr-range-divider"></view>
              <view class="hr-range-item">
                <view class="hr-range-icon-wrap orange-bg">
                  <text class="hr-range-icon">â†‘</text>
                </view>
                <view class="hr-range-data">
                  <text class="hr-range-value orange">{{heartrateDetail.activity_hr_max}}</text>
                  <text class="hr-range-label">æœ€é«˜</text>
                </view>
              </view>
            </view>
          </view>

          <!-- è´¡çŒ®å› å­é›·è¾¾å›¾ - ä½¿ç”¨wx:ifè§£å†³åŸç”Ÿcanvaså±‚å é—®é¢˜ -->
          <view class="radar-section" wx:if="{{expandedCards.readiness}}">
            <view class="detail-section-title">è´¡çŒ®å› å­</view>
            <view class="radar-container">
              <canvas canvas-id="readinessRadar" class="radar-canvas"></canvas>
            </view>
          </view>
        </view>
      </view>

      <view class="empty-state" wx:else>
        <text class="empty-icon">âš¡</text>
        <text class="empty-text">æš‚æ— å‡†å¤‡åº¦æ•°æ®</text>
      </view>
    </view>

    <!-- æ´»åŠ¨æ•°æ®å¡ç‰‡ - Oura -->
    <view class="card activity-card glass-card card-appear" style="animation-delay: 0.35s">
      <view class="card-header card-header-clickable" bindtap="toggleCard" data-card="activity">
        <view class="card-title-row">
          <view class="card-icon-wrapper activity-icon-bg">
            <text class="card-icon">ğŸƒ</text>
          </view>
          <view class="card-title-group">
            <text class="card-title">æ´»åŠ¨æ•°æ®</text>
            <text class="card-subtitle">{{activityDate}}</text>
          </view>
        </view>
        <view class="card-meta">
          <text class="brand-tag oura">Oura</text>
          <view class="expand-arrow {{expandedCards.activity ? 'expanded' : ''}}">
            <text class="arrow-icon">â€º</text>
          </view>
        </view>
      </view>

      <view wx:if="{{activityData}}">
        <!-- åŒæ ¸å¿ƒæŒ‡æ ‡ï¼šä¹…åæ—¶é—´ï¼ˆè´Ÿé¢ï¼‰ + æ­¥æ•°ï¼ˆæ­£é¢ï¼‰ -->
        <view class="activity-dual-hero">
          <view class="activity-hero-item sedentary-hero">
            <view class="zone-target-row">
              <text class="activity-big-value {{activityData.sedentary_hours >= 8 ? 'danger-color' : activityData.sedentary_hours >= 6 ? 'warning-color' : 'gray-color'}}">{{activityData.sedentary_hours || 0}}</text>
              <text class="activity-big-unit">å°æ—¶</text>
              <view class="target-badge {{activityData.sedentary_hours < 6 ? 'badge-success' : activityData.sedentary_hours < 8 ? 'badge-warning' : 'badge-danger'}}">
                <text>{{activityData.sedentary_hours < 6 ? 'è‰¯å¥½' : activityData.sedentary_hours < 8 ? 'åå¤š' : 'è¿‡é•¿'}}</text>
              </view>
            </view>
            <text class="activity-big-label">ğŸª‘ ä¹…åæ—¶é—´</text>
            <text class="target-hint">å»ºè®®â‰¤6å°æ—¶</text>
          </view>
          <view class="activity-hero-divider"></view>
          <view class="activity-hero-item steps-hero">
            <view class="zone-target-row">
              <text class="activity-big-value steps">{{activityData.stepsDisplay || activityData.steps || 0}}</text>
              <text class="activity-big-unit">{{activityData.stepsUnit || 'æ­¥'}}</text>
              <view class="target-badge {{activityData.steps >= 10000 ? 'badge-success' : activityData.steps >= 5000 ? 'badge-warning' : 'badge-info'}}">
                <text>{{activityData.steps >= 10000 ? 'è¾¾æ ‡' : activityData.steps >= 5000 ? 'ä¸€èˆ¬' : 'ä¸è¶³'}}</text>
              </view>
            </view>
            <text class="activity-big-label">ğŸ‘Ÿ ä»Šæ—¥æ­¥æ•°</text>
            <text class="target-hint">ç›®æ ‡10,000æ­¥</text>
          </view>
        </view>

        <!-- æ­¥æ•°è¿›åº¦æ¡ï¼ˆç´§å‡‘ç‰ˆï¼‰ -->
        <view class="activity-steps-progress">
          <view class="steps-bar-bg">
            <view class="steps-bar-fill" style="width: {{activityData.stepsProgress > 100 ? 100 : activityData.stepsProgress || 0}}%;"></view>
          </view>
          <text class="steps-target-text">{{activityData.stepsProgress || 0}}%</text>
        </view>

        <!-- æ¬¡è¦æŒ‡æ ‡ - 3åˆ—ç´§å‡‘å¸ƒå±€ -->
        <view class="activity-stats-row">
          <view class="activity-stat-item">
            <text class="activity-stat-value {{activityData.scoreColor}}">{{activityData.score || 0}}</text>
            <text class="activity-stat-label">æ´»åŠ¨è¯„åˆ†</text>
          </view>
          <view class="activity-stat-item">
            <text class="activity-stat-value">{{activityData.active_calories || 0}}<text class="activity-stat-unit">kcal</text></text>
            <text class="activity-stat-label">æ´»åŠ¨æ¶ˆè€—</text>
          </view>
          <view class="activity-stat-item">
            <text class="activity-stat-value {{activityData.totalActivityColor}}">{{activityData.total_activity_min || 0}}<text class="activity-stat-unit">min</text></text>
            <text class="activity-stat-label">ä¸­é«˜å¼ºåº¦</text>
          </view>
        </view>

        <!-- å±•å¼€è¯¦æƒ… -->
        <view class="card-details {{expandedCards.activity ? 'expanded' : ''}}">
          <view class="detail-section-title">æ´»åŠ¨å¼ºåº¦åˆ†å¸ƒ</view>
          <view class="detail-grid">
            <view class="detail-item">
              <text class="detail-value {{activityData.highColor}}">{{activityData.high_min || 0}} <text class="detail-unit">min</text></text>
              <text class="detail-label">é«˜å¼ºåº¦</text>
            </view>
            <view class="detail-item">
              <text class="detail-value {{activityData.mediumColor}}">{{activityData.medium_min || 0}} <text class="detail-unit">min</text></text>
              <text class="detail-label">ä¸­å¼ºåº¦</text>
            </view>
            <view class="detail-item">
              <text class="detail-value">{{activityData.low_min || 0}} <text class="detail-unit">min</text></text>
              <text class="detail-label">ä½å¼ºåº¦</text>
            </view>
          </view>

          <view class="detail-section-title">æ—¶é—´åˆ†é…</view>
          <view class="detail-grid">
            <view class="detail-item">
              <text class="detail-value">{{activityData.rest_min || 0}} <text class="detail-unit">min</text></text>
              <text class="detail-label">ä¼‘æ¯</text>
            </view>
            <view class="detail-item">
              <text class="detail-value blue">{{activityData.non_wear_min || 0}} <text class="detail-unit">min</text></text>
              <text class="detail-label">æœªä½©æˆ´</text>
            </view>
            <view class="detail-item">
              <text class="detail-value">{{activityData.inactivity_alerts || 0}} <text class="detail-unit">æ¬¡</text></text>
              <text class="detail-label">ä¹…åæé†’</text>
            </view>
          </view>

          <!-- è´¡çŒ®å› å­é›·è¾¾å›¾ - ä½¿ç”¨wx:ifè§£å†³åŸç”Ÿcanvaså±‚å é—®é¢˜ -->
          <view class="radar-section" wx:if="{{expandedCards.activity}}">
            <view class="detail-section-title">è´¡çŒ®å› å­</view>
            <view class="radar-container">
              <canvas canvas-id="activityRadar" class="radar-canvas"></canvas>
            </view>
          </view>
        </view>
      </view>

      <view class="empty-state" wx:else>
        <text class="empty-icon">ğŸš¶</text>
        <text class="empty-text">æš‚æ— æ´»åŠ¨æ•°æ®</text>
      </view>
    </view>

    <!-- æœ¬å‘¨/ä¸Šå‘¨è®­ç»ƒæ€»ç»“å¡ç‰‡ -->
    <view class="card weekly-card glass-card card-appear" style="animation-delay: 0.4s">
      <view class="card-header">
        <view class="card-title-row">
          <view class="card-icon-wrapper weekly-icon-bg">
            <text class="card-icon">ğŸ“…</text>
          </view>
          <view class="card-title-group">
            <text class="card-title">{{weeklyData && weeklyData.isLastWeek ? 'ä¸Šå‘¨è®­ç»ƒ' : 'æœ¬å‘¨è®­ç»ƒ'}}</text>
            <text class="card-subtitle" wx:if="{{weeklyData && weeklyData.isLastWeek}}">æœ¬å‘¨æš‚æ— è®­ç»ƒ</text>
            <text class="card-subtitle" wx:elif="{{weeklyData}}">{{weeklyDateRange}}</text>
          </view>
        </view>
        <text class="brand-tag polar">Polar</text>
      </view>

      <view wx:if="{{weeklyData}}">
        <!-- æ ¸å¿ƒæŒ‡æ ‡ - å‘¨ç´¯è®¡Zone2 -->
        <view class="weekly-zone2-hero">
          <view class="zone-target-row">
            <text class="weekly-zone2-value zone2-color">{{weeklyData.zone2_min || 0}}</text>
            <text class="weekly-zone2-unit">/250åˆ†é’Ÿ</text>
            <view class="target-badge {{weeklyData.zone2_min >= 250 ? 'badge-success' : weeklyData.zone2_min >= 200 ? 'badge-warning' : 'badge-info'}}">
              <text>{{weeklyData.zone2_min >= 250 ? 'è¾¾æ ‡' : weeklyData.zone2_min >= 200 ? 'æ¥è¿‘' : 'è¿›è¡Œä¸­'}}</text>
            </view>
          </view>
          <text class="weekly-zone2-label">ğŸ¯ å‘¨ç´¯è®¡Zone2ç‡ƒè„‚æ—¶é•¿</text>
          <view class="weekly-zone2-bar">
            <view class="zone2-bar-track-new">
              <view class="zone2-bar-fill-new" style="width: {{weeklyData.zone2_progress > 100 ? 100 : weeklyData.zone2_progress || 0}}%;"></view>
            </view>
            <text class="zone2-percent">{{weeklyData.zone2_progress || 0}}%</text>
          </view>
        </view>

        <!-- åŒæŒ‡æ ‡åŒºï¼šè®­ç»ƒå¤©æ•° + è„‚è‚ªç‡ƒçƒ§ -->
        <view class="weekly-dual-stats">
          <view class="weekly-stat-block">
            <view class="stat-block-value">
              <text class="stat-value-num">{{weeklyData.training_days || 0}}</text>
              <text class="stat-value-suffix">/5å¤©</text>
            </view>
            <text class="stat-block-label">è®­ç»ƒå¤©æ•°</text>
          </view>
          <view class="weekly-stat-divider"></view>
          <view class="weekly-stat-block">
            <view class="stat-block-value">
              <text class="stat-value-num orange">{{weeklyData.fat_burn || 0}}</text>
              <text class="stat-value-suffix">å…‹</text>
            </view>
            <text class="stat-block-label">è„‚è‚ªç‡ƒçƒ§</text>
          </view>
        </view>

        <!-- åº•éƒ¨æŒ‡æ ‡è¡Œ -->
        <view class="weekly-stats-row">
          <view class="weekly-stat-cell">
            <text class="stat-cell-value">{{weeklyData.total_min || 0}}<text class="stat-cell-unit">min</text></text>
            <text class="stat-cell-label">æ€»æ—¶é•¿</text>
          </view>
          <view class="weekly-stat-cell">
            <text class="stat-cell-value">{{weeklyData.hi_min || 0}}<text class="stat-cell-unit">min</text></text>
            <text class="stat-cell-label">é«˜å¼ºåº¦</text>
          </view>
          <view class="weekly-stat-cell">
            <text class="stat-cell-value">{{weeklyData.weekly_trimp || 0}}</text>
            <text class="stat-cell-label">å‘¨TRIMP</text>
          </view>
        </view>
      </view>

      <view class="empty-state" wx:else>
        <text class="empty-icon">ğŸ“Š</text>
        <text class="empty-text">æš‚æ— æœ¬å‘¨æ•°æ®</text>
      </view>
    </view>

    <!-- å¸®åŠ©æŒ‰é’® -->
    <view class="help-button card-appear" bindtap="showGlossary" style="animation-delay: 0.45s">
      <text class="help-icon">ğŸ“–</text>
      <text class="help-text">æ•°å€¼è§£è¯»</text>
    </view>

  </view>

  <!-- åè¯è§£é‡Šå¼¹çª— -->
  <view class="glossary-modal {{showGlossaryModal ? 'show' : ''}}" bindtap="hideGlossary">
    <view class="glossary-content" catchtap="stopPropagation">
      <view class="glossary-header">
        <text class="glossary-title">ğŸ“Š æ•°å€¼è§£è¯»</text>
        <view class="glossary-close" bindtap="hideGlossary">Ã—</view>
      </view>

      <scroll-view class="glossary-scroll" scroll-y>
        <!-- è®­ç»ƒæŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title green-title">ğŸ‹ï¸ è®­ç»ƒæŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">Zone2 æœ‰æ°§åŒºé—´</text>
            <text class="glossary-desc">å¿ƒç‡ç»´æŒåœ¨æœ€å¤§å¿ƒç‡60-70%çš„è®­ç»ƒåŒºé—´ã€‚è¿™æ˜¯è„‚è‚ªä¾›èƒ½æ¯”ä¾‹æœ€é«˜çš„åŒºé—´ï¼Œèƒ½æœ‰æ•ˆæå‡çº¿ç²’ä½“å¯†åº¦å’Œæœ‰æ°§åŸºç¡€ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å»ºè®®ç›®æ ‡ï¼š</text>
              <text class="ref-value">æ¯æ¬¡45-60åˆ†é’Ÿï¼Œæ¯å‘¨ç´¯è®¡200-300åˆ†é’Ÿ</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">Zone2è®­ç»ƒæ—¶åº”èƒ½è¿›è¡Œç®€å•å¯¹è¯ä½†æ— æ³•å”±æ­Œï¼Œå‘¼å¸ç•¥åŠ æ·±ä½†ä¸å–˜</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">Zone4-5 é«˜å¼ºåº¦åŒºé—´</text>
            <text class="glossary-desc">Zone4ä¸ºä¹³é…¸é˜ˆå€¼åŒºï¼ˆ80-90%æœ€å¤§å¿ƒç‡ï¼‰ï¼ŒZone5ä¸ºæœ€å¤§æ‘„æ°§é‡åŒºï¼ˆ90-100%ï¼‰ã€‚é«˜å¼ºåº¦è®­ç»ƒèƒ½æå‡å¿ƒè‚ºèƒ½åŠ›ä¸Šé™ï¼Œä½†æ¢å¤æˆæœ¬é«˜ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å»ºè®®ç›®æ ‡ï¼š</text>
              <text class="ref-value">æ¯æ¬¡1-5åˆ†é’Ÿï¼Œæ¯å‘¨ä¸è¶…è¿‡20-30åˆ†é’Ÿ</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">âš ï¸</text>
              <text class="tip-text">è¿ç»­3å¤©ä»¥ä¸Šé«˜å¼ºåº¦è®­ç»ƒå¯èƒ½å¯¼è‡´è¿‡åº¦ç–²åŠ³ï¼Œéœ€å…³æ³¨HRVå˜åŒ–</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">TRIMP è®­ç»ƒè´Ÿè·</text>
            <text class="glossary-desc">Training Impulseï¼Œç»¼åˆè®­ç»ƒæ—¶é•¿å’Œå¿ƒç‡å¼ºåº¦è®¡ç®—çš„è´Ÿè·æŒ‡æ ‡ã€‚æ•°å€¼è¶Šé«˜è¡¨ç¤ºè®­ç»ƒå¯¹èº«ä½“çš„åˆºæ¿€è¶Šå¤§ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒèŒƒå›´ï¼š</text>
              <text class="ref-value">è½»æ¾è®­ç»ƒ50-100 | ä¸­ç­‰è®­ç»ƒ100-200 | é«˜å¼ºåº¦200+</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">å‘¨TRIMPåº”ä¿æŒæ¸è¿›å¢é•¿ï¼ˆæ¯å‘¨å¢å¹…â‰¤10%ï¼‰ï¼Œé¿å…çªç„¶å¤§å¹…å¢åŠ </text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">å¿ƒç‡åŒºé—´ Z1-Z5</text>
            <text class="glossary-desc">åŸºäºæœ€å¤§å¿ƒç‡ç™¾åˆ†æ¯”åˆ’åˆ†çš„äº”ä¸ªè®­ç»ƒå¼ºåº¦åŒºé—´ï¼Œæ¯ä¸ªåŒºé—´æœ‰ä¸åŒçš„ç”Ÿç†é€‚åº”æ•ˆæœã€‚</text>
            <view class="glossary-zones">
              <view class="zone-row"><text class="zone-name zone1">Z1 æ¢å¤åŒº</text><text class="zone-range">50-60% Â· ä¸»åŠ¨æ¢å¤ã€çƒ­èº«å†·èº«</text></view>
              <view class="zone-row"><text class="zone-name zone2">Z2 ç‡ƒè„‚åŒº</text><text class="zone-range">60-70% Â· æœ‰æ°§åŸºç¡€ã€è„‚è‚ªç‡ƒçƒ§</text></view>
              <view class="zone-row"><text class="zone-name zone3">Z3 æœ‰æ°§åŒº</text><text class="zone-range">70-80% Â· æœ‰æ°§è€åŠ›ã€å¿ƒè‚ºæ•ˆç‡</text></view>
              <view class="zone-row"><text class="zone-name zone4">Z4 é˜ˆå€¼åŒº</text><text class="zone-range">80-90% Â· ä¹³é…¸é˜ˆå€¼ã€é€Ÿåº¦è€åŠ›</text></view>
              <view class="zone-row"><text class="zone-name zone5">Z5 æé™åŒº</text><text class="zone-range">90-100% Â· æœ€å¤§æ‘„æ°§é‡ã€çˆ†å‘åŠ›</text></view>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">è„‚è‚ªç‡ƒçƒ§é‡</text>
            <text class="glossary-desc">è®­ç»ƒè¿‡ç¨‹ä¸­æ¶ˆè€—çš„è„‚è‚ªå…‹æ•°ï¼Œä¸»è¦åœ¨Zone2åŒºé—´è¾¾åˆ°æœ€é«˜æ•ˆç‡ã€‚è„‚è‚ªä¾›èƒ½éœ€è¦å……è¶³æ°§æ°”ï¼Œå¼ºåº¦è¿‡é«˜åè€Œä¼šåˆ‡æ¢åˆ°ç³–åŸä¾›èƒ½ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒå€¼ï¼š</text>
              <text class="ref-value">Zone2è®­ç»ƒ1å°æ—¶çº¦ç‡ƒçƒ§30-50gè„‚è‚ª</text>
            </view>
          </view>
        </view>

        <!-- ç¡çœ æŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title blue-title">ğŸ˜´ ç¡çœ æŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">ç¡çœ è¯„åˆ†</text>
            <text class="glossary-desc">Ouraç»¼åˆç¡çœ æ—¶é•¿ã€æ•ˆç‡ã€å„é˜¶æ®µæ¯”ä¾‹ã€å¿ƒç‡ç­‰å¤šç»´åº¦è®¡ç®—çš„æ•´ä½“ç¡çœ è´¨é‡è¯„åˆ†ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">è¯„åˆ†è§£è¯»ï¼š</text>
              <text class="ref-value">85+æœ€ä½³ | 70-84è‰¯å¥½ | 70ä»¥ä¸‹éœ€å…³æ³¨</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">å…³æ³¨è¶‹åŠ¿æ¯”å•æ—¥æ•°å€¼æ›´é‡è¦ï¼Œè¿ç»­å¤šå¤©ä½äº70åˆ†éœ€è¦è°ƒæ•´ä½œæ¯</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">æ·±ç¡çœ </text>
            <text class="glossary-desc">ä¹Ÿç§°æ…¢æ³¢ç¡çœ (SWS)ï¼Œæ˜¯èº«ä½“ç‰©ç†ä¿®å¤çš„å…³é”®é˜¶æ®µã€‚æ­¤æ—¶ç”Ÿé•¿æ¿€ç´ å¤§é‡åˆ†æ³Œï¼Œè‚Œè‚‰ä¿®å¤ã€å…ç–«å¢å¼ºã€è®°å¿†å·©å›ºéƒ½åœ¨æ­¤é˜¶æ®µè¿›è¡Œã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å»ºè®®ç›®æ ‡ï¼š</text>
              <text class="ref-value">æ¯æ™š60-120åˆ†é’Ÿï¼Œå æ€»ç¡çœ 15-20%</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">æ·±ç¡çœ ä¸»è¦å‡ºç°åœ¨å‰åŠå¤œï¼Œæ—©ç¡æœ‰åŠ©äºè·å¾—æ›´å¤šæ·±ç¡çœ </text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">REMç¡çœ </text>
            <text class="glossary-desc">å¿«é€Ÿçœ¼åŠ¨ç¡çœ ï¼Œå¤§è„‘é«˜åº¦æ´»è·ƒçš„é˜¶æ®µã€‚å¯¹æƒ…ç»ªè°ƒèŠ‚ã€è®°å¿†æ•´åˆã€åˆ›é€ åŠ›è‡³å…³é‡è¦ï¼Œåšæ¢¦ä¸»è¦å‘ç”Ÿåœ¨æ­¤é˜¶æ®µã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å»ºè®®ç›®æ ‡ï¼š</text>
              <text class="ref-value">æ¯æ™š90-120åˆ†é’Ÿï¼Œå æ€»ç¡çœ 20-25%</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">REMç¡çœ ä¸»è¦å‡ºç°åœ¨ååŠå¤œï¼Œç¡çœ ä¸è¶³æ—¶REMä¼šè¢«ä¼˜å…ˆå‰Šå‡</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ç¡çœ æ•ˆç‡</text>
            <text class="glossary-desc">å®é™…ç¡çœ æ—¶é—´å åœ¨åºŠæ€»æ—¶é—´çš„æ¯”ä¾‹ã€‚æ•ˆç‡è¿‡ä½å¯èƒ½è¡¨ç¤ºå…¥ç¡å›°éš¾ã€å¤œé—´é¢‘ç¹é†’æ¥æˆ–æ—©é†’ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒæ ‡å‡†ï¼š</text>
              <text class="ref-value">â‰¥85%ä¼˜ç§€ | 75-84%è‰¯å¥½ | 75%ä»¥ä¸‹éœ€æ”¹å–„</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">é¿å…åœ¨åºŠä¸Šç©æ‰‹æœºã€å·¥ä½œï¼Œè®©å¤§è„‘å»ºç«‹"åºŠ=ç¡çœ "çš„æ¡ä»¶åå°„</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">å…¥ç¡å»¶è¿Ÿ</text>
            <text class="glossary-desc">ä»èººä¸‹åˆ°çœŸæ­£å…¥ç¡æ‰€èŠ±çš„æ—¶é—´ã€‚è¿‡é•¿å¯èƒ½è¡¨ç¤ºç¡å‰è¿‡åº¦å…´å¥‹ã€ç„¦è™‘æˆ–ç”Ÿç‰©é’Ÿç´Šä¹±ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒæ ‡å‡†ï¼š</text>
              <text class="ref-value">â‰¤15åˆ†é’Ÿç†æƒ³ | 15-30åˆ†é’Ÿæ­£å¸¸ | >30åˆ†é’Ÿåé•¿</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ç¿»èº«æ¬¡æ•°</text>
            <text class="glossary-desc">ç¡çœ æœŸé—´èº«ä½“ç¿»è½¬å’Œç§»åŠ¨çš„æ¬¡æ•°ã€‚é€‚åº¦ç¿»èº«æ˜¯æ­£å¸¸çš„ç¡çœ è¡Œä¸ºï¼Œä½†è¿‡äºé¢‘ç¹å¯èƒ½å½±å“æ·±ç¡çœ è´¨é‡ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒæ ‡å‡†ï¼š</text>
              <text class="ref-value">10æ¬¡ä»¥ä¸‹ä¼˜ç§€ | 10-20æ¬¡æ­£å¸¸ | 20æ¬¡ä»¥ä¸Šåå¤š</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ç¡çœ æœ€ä½å¿ƒç‡æ—¶é—´ç‚¹</text>
            <text class="glossary-desc">å¤œé—´å¿ƒç‡é™è‡³æœ€ä½ç‚¹çš„æ—¶åˆ»ã€‚ç†æƒ³æƒ…å†µä¸‹åº”å‡ºç°åœ¨ç¡çœ å‰åŠæ®µï¼ˆå…¥ç¡å2-4å°æ—¶ï¼‰ï¼Œè¡¨ç¤ºèº«ä½“è¿›å…¥æ·±åº¦æ¢å¤çŠ¶æ€ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">ç†æƒ³èŒƒå›´ï¼š</text>
              <text class="ref-value">ç¡çœ è¿›åº¦20-50%æ—¶å‡ºç°æœ€ä½å¿ƒç‡</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">æœ€ä½å¿ƒç‡å‡ºç°è¿‡æ™šï¼ˆ>50%ï¼‰å¯èƒ½è¡¨ç¤ºå‰åŠå¤œæ¢å¤ä¸ä½³ï¼Œéœ€å…³æ³¨ç¡å‰ä¹ æƒ¯</text>
            </view>
          </view>
        </view>

        <!-- æ¢å¤æŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title yellow-title">ğŸ”‹ æ¢å¤æŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">å‡†å¤‡åº¦è¯„åˆ†</text>
            <text class="glossary-desc">Ouraç»¼åˆå‰ä¸€å¤©æ´»åŠ¨ã€ç¡çœ è´¨é‡ã€HRVã€é™æ¯å¿ƒç‡ã€ä½“æ¸©ç­‰å¤šé¡¹æŒ‡æ ‡è®¡ç®—çš„èº«ä½“çŠ¶æ€è¯„åˆ†ï¼Œåæ˜ å½“å¤©é€‚åˆè¿›è¡Œé«˜å¼ºåº¦æ´»åŠ¨çš„ç¨‹åº¦ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">è¯„åˆ†è§£è¯»ï¼š</text>
              <text class="ref-value">85+æœ€ä½³çŠ¶æ€ | 70-84è‰¯å¥½ | 70ä»¥ä¸‹å»ºè®®ä¼‘æ¯</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">å‡†å¤‡åº¦ä½äº70æ—¶å»ºè®®ä»¥Zone1-2è½»æ¾è®­ç»ƒä¸ºä¸»ï¼Œé¿å…é«˜å¼ºåº¦</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">HRV å¿ƒç‡å˜å¼‚æ€§</text>
            <text class="glossary-desc">ç›¸é‚»å¿ƒè·³é—´éš”æ—¶é—´çš„å˜åŒ–ç¨‹åº¦ï¼ˆæ¯«ç§’ï¼‰ã€‚HRVåæ˜ è‡ªä¸»ç¥ç»ç³»ç»Ÿçš„å¹³è¡¡çŠ¶æ€ï¼Œæ˜¯è¯„ä¼°æ¢å¤å’Œå‹åŠ›çš„æ ¸å¿ƒæŒ‡æ ‡ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">ä¸ªäººåŸºçº¿ï¼š</text>
              <text class="ref-value">HRVå› äººè€Œå¼‚ï¼Œå…³æ³¨ç›¸å¯¹äºè‡ªå·±åŸºçº¿çš„å˜åŒ–æ›´é‡è¦</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">HRVæ¯”åŸºçº¿ä½15%+å¯èƒ½è¡¨ç¤ºç–²åŠ³æˆ–å‹åŠ›ï¼Œå»ºè®®é™ä½è®­ç»ƒå¼ºåº¦</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">é™æ¯å¿ƒç‡</text>
            <text class="glossary-desc">å®Œå…¨ä¼‘æ¯çŠ¶æ€ä¸‹çš„å¿ƒç‡ï¼Œé€šå¸¸åœ¨æ¸…æ™¨é†’æ¥æœªèµ·åºŠæ—¶æµ‹é‡æœ€å‡†ç¡®ã€‚é•¿æœŸè®­ç»ƒä¼šä½¿é™æ¯å¿ƒç‡ä¸‹é™ï¼Œä½†çŸ­æœŸå‡é«˜å¯èƒ½è¡¨ç¤ºç–²åŠ³æˆ–ç”Ÿç—…ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒèŒƒå›´ï¼š</text>
              <text class="ref-value">è¿åŠ¨å‘˜40-60bpm | æ™®é€šæˆäºº60-80bpm</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">âš ï¸</text>
              <text class="tip-text">é™æ¯å¿ƒç‡çªç„¶å‡é«˜5-10bpmä»¥ä¸Šï¼Œå¯èƒ½æ˜¯è¿‡åº¦è®­ç»ƒæˆ–å³å°†ç”Ÿç—…çš„ä¿¡å·</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">æ¢å¤æŒ‡æ•°</text>
            <text class="glossary-desc">è¡¡é‡å¤œé—´å¿ƒç‡ä»ç¡å‰åˆ°æœ€ä½ç‚¹ä¸‹é™å¹…åº¦çš„æŒ‡æ ‡ã€‚ä¸‹é™å¹…åº¦è¶Šå¤§ï¼Œè¯´æ˜å‰¯äº¤æ„Ÿç¥ç»æ¿€æ´»è¶Šå……åˆ†ï¼Œèº«ä½“æ¢å¤è¶Šå¥½ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒæ ‡å‡†ï¼š</text>
              <text class="ref-value">ä¸‹é™10-20bpmä¸ºè‰¯å¥½æ¢å¤</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ä½“æ¸©åå·®</text>
            <text class="glossary-desc">å½“å‰çš®è‚¤æ¸©åº¦ä¸ä¸ªäººåŸºçº¿çš„åå·®ã€‚ä½“æ¸©å—æœˆç»å‘¨æœŸã€å…ç–«ååº”ã€ç¯å¢ƒç­‰å› ç´ å½±å“ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">æ­£å¸¸èŒƒå›´ï¼š</text>
              <text class="ref-value">Â±0.3Â°Cä»¥å†…ä¸ºæ­£å¸¸æ³¢åŠ¨</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">âš ï¸</text>
              <text class="tip-text">ä½“æ¸©è¿ç»­åé«˜0.5Â°Cä»¥ä¸Šå¯èƒ½æ˜¯å…ç–«ç³»ç»Ÿåœ¨å¯¹æŠ—æ„ŸæŸ“ï¼Œå»ºè®®ä¼‘æ¯</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ç¡çœ å¹³è¡¡</text>
            <text class="glossary-desc">è¿‡å»ä¸¤å‘¨çš„ç¡çœ æ—¶é•¿ä¸ä¸ªäººéœ€æ±‚çš„åŒ¹é…ç¨‹åº¦ã€‚è´Ÿå€¼è¡¨ç¤ºç¡çœ å€ºåŠ¡ç´¯ç§¯ï¼Œæ­£å€¼è¡¨ç¤ºç¡çœ å……è¶³ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">ç†æƒ³çŠ¶æ€ï¼š</text>
              <text class="ref-value">ä¿æŒåœ¨0é™„è¿‘ï¼Œé¿å…é•¿æœŸè´Ÿå€º</text>
            </view>
          </view>
        </view>

        <!-- æ´»åŠ¨æŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title orange-title">ğŸƒ æ´»åŠ¨æŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">æ´»åŠ¨è¯„åˆ†</text>
            <text class="glossary-desc">Ouraç»¼åˆæ­¥æ•°ã€æ´»åŠ¨æ¶ˆè€—ã€ä¸­é«˜å¼ºåº¦æ´»åŠ¨æ—¶é—´ã€ä¹…åæ—¶é—´ç­‰è®¡ç®—çš„æ—¥å¸¸æ´»åŠ¨æ°´å¹³è¯„åˆ†ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">è¯„åˆ†è§£è¯»ï¼š</text>
              <text class="ref-value">85+æ´»è·ƒ | 70-84æ­£å¸¸ | 70ä»¥ä¸‹æ´»åŠ¨ä¸è¶³</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ä¹…åæ—¶é—´</text>
            <text class="glossary-desc">ä¸€å¤©ä¸­å¤„äºé™å/èººå§çŠ¶æ€çš„ç´¯è®¡æ—¶é—´ã€‚ä¹…åæ˜¯ç‹¬ç«‹çš„å¥åº·é£é™©å› ç´ ï¼Œå³ä½¿æœ‰è¿åŠ¨ä¹ æƒ¯ä¹Ÿåº”å‡å°‘ä¹…åã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å»ºè®®ç›®æ ‡ï¼š</text>
              <text class="ref-value">æ¯å¤©â‰¤6å°æ—¶ï¼Œæ¯å°æ—¶èµ·èº«æ´»åŠ¨ä¸€æ¬¡</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">è®¾ç½®ä¹…åæé†’ï¼Œæ¯45-60åˆ†é’Ÿèµ·èº«èµ°åŠ¨2-3åˆ†é’Ÿ</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">ä¸­é«˜å¼ºåº¦æ´»åŠ¨</text>
            <text class="glossary-desc">å¿ƒç‡è¾¾åˆ°ä¸­ç­‰ä»¥ä¸Šå¼ºåº¦çš„æ´»åŠ¨æ—¶é—´ï¼ŒåŒ…æ‹¬å¿«èµ°ã€è·‘æ­¥ã€éª‘è½¦ç­‰ã€‚WHOå»ºè®®æˆäººæ¯å‘¨è‡³å°‘150åˆ†é’Ÿä¸­ç­‰å¼ºåº¦æˆ–75åˆ†é’Ÿé«˜å¼ºåº¦æ´»åŠ¨ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">æ¯æ—¥ç›®æ ‡ï¼š</text>
              <text class="ref-value">â‰¥30åˆ†é’Ÿä¸­é«˜å¼ºåº¦æ´»åŠ¨</text>
            </view>
          </view>
        </view>

        <!-- å‹åŠ›æŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title purple-title">ğŸ˜° å‹åŠ›æŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">å‹åŠ›æ—¶é—´</text>
            <text class="glossary-desc">é€šè¿‡HRVæ£€æµ‹èº«ä½“å¤„äºäº¤æ„Ÿç¥ç»æ¿€æ´»ï¼ˆæˆ˜æ–—æˆ–é€ƒè·‘ï¼‰çŠ¶æ€çš„æ—¶é—´ã€‚åŒ…æ‹¬è¿åŠ¨ã€å·¥ä½œå‹åŠ›ã€æƒ…ç»ªæ³¢åŠ¨ã€èº«ä½“ä¸é€‚ç­‰å„ç§å‹åŠ›æºã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">å‚è€ƒæ ‡å‡†ï¼š</text>
              <text class="ref-value">æ¯æ—¥å‹åŠ›æ—¶é—´åº”å°‘äºæ¢å¤æ—¶é—´</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">æ¢å¤æ—¶é—´</text>
            <text class="glossary-desc">èº«ä½“å¤„äºå‰¯äº¤æ„Ÿç¥ç»ä¸»å¯¼ï¼ˆä¼‘æ¯ä¸æ¶ˆåŒ–ï¼‰çŠ¶æ€çš„æ—¶é—´ã€‚åŒ…æ‹¬æ”¾æ¾ã€å†¥æƒ³ã€è½»åº¦æ´»åŠ¨ç­‰ä½å‹åŠ›æ—¶æ®µã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">ç†æƒ³æ¯”ä¾‹ï¼š</text>
              <text class="ref-value">æ¢å¤æ—¶é—´ > å‹åŠ›æ—¶é—´ï¼Œæ¢å¤å æ¯”â‰¥50%</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">ğŸ’¡</text>
              <text class="tip-text">å¦‚å‹åŠ›é•¿æœŸé«˜äºæ¢å¤ï¼Œå¯å°è¯•å‘¼å¸ç»ƒä¹ ã€å†¥æƒ³æˆ–é™ä½è®­ç»ƒå¼ºåº¦</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">æ—¥è¯„ä¼°</text>
            <text class="glossary-desc">Ouraå¯¹ä¸€å¤©å‹åŠ›ä¸æ¢å¤å¹³è¡¡çŠ¶æ€çš„ç»¼åˆè¯„ä»·ã€‚</text>
            <view class="glossary-zones">
              <view class="zone-row"><text class="zone-name restored">å·²æ¢å¤</text><text class="zone-range">æ¢å¤æ—¶é—´å……è¶³ï¼Œèº«ä½“çŠ¶æ€è‰¯å¥½</text></view>
              <view class="zone-row"><text class="zone-name normal">æ­£å¸¸</text><text class="zone-range">å‹åŠ›ä¸æ¢å¤åŸºæœ¬å¹³è¡¡</text></view>
              <view class="zone-row"><text class="zone-name stressed">å‹åŠ›å¤§</text><text class="zone-range">å‹åŠ›æ—¶é—´è¿‡é•¿ï¼Œå»ºè®®å¢åŠ ä¼‘æ¯</text></view>
            </view>
          </view>
        </view>

        <!-- è¡€æ°§æŒ‡æ ‡ -->
        <view class="glossary-section">
          <view class="glossary-section-title red-title">ğŸ« è¡€æ°§æŒ‡æ ‡</view>

          <view class="glossary-item">
            <text class="glossary-term">è¡€æ°§é¥±å’Œåº¦ SpO2</text>
            <text class="glossary-desc">è¡€æ¶²ä¸­æ°§åˆè¡€çº¢è›‹ç™½çš„æ¯”ä¾‹ï¼Œåæ˜ èº«ä½“è·å–å’Œè¾“é€æ°§æ°”çš„èƒ½åŠ›ã€‚ç¡çœ æœŸé—´çš„è¡€æ°§æ°´å¹³å¯¹æ¢å¤è´¨é‡æœ‰é‡è¦å½±å“ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">æ­£å¸¸èŒƒå›´ï¼š</text>
              <text class="ref-value">95-100%æ­£å¸¸ | 90-94%åä½ | 90%ä»¥ä¸‹éœ€å°±åŒ»</text>
            </view>
            <view class="glossary-tip">
              <text class="tip-icon">âš ï¸</text>
              <text class="tip-text">ç¡çœ è¡€æ°§é¢‘ç¹ä½äº95%å¯èƒ½æç¤ºç¡çœ å‘¼å¸é—®é¢˜ï¼Œå»ºè®®å’¨è¯¢åŒ»ç”Ÿ</text>
            </view>
          </view>

          <view class="glossary-item">
            <text class="glossary-term">å‘¼å¸é¢‘ç‡</text>
            <text class="glossary-desc">ç¡çœ æœŸé—´æ¯åˆ†é’Ÿçš„å‘¼å¸æ¬¡æ•°ã€‚å‘¼å¸é¢‘ç‡ç›¸å¯¹ç¨³å®šï¼Œçªç„¶å˜åŒ–å¯èƒ½åæ˜ èº«ä½“çŠ¶æ€å˜åŒ–ã€‚</text>
            <view class="glossary-reference">
              <text class="ref-label">æ­£å¸¸èŒƒå›´ï¼š</text>
              <text class="ref-value">ç¡çœ æ—¶12-20æ¬¡/åˆ†é’Ÿ</text>
            </view>
          </view>
        </view>
      </scroll-view>
    </view>
  </view>
</view>
