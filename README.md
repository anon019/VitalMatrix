# VitalMatrix
<p align="center">
<img width="2816" height="1536" alt="Gemini_Generated_Image_q7znusq7znusq7zn" src="https://github.com/user-attachments/assets/a1d3df14-2c21-4d2f-8a91-5ba16aa34c30" />
</p>

<p align="center">
  <strong>ğŸƒ è¿åŠ¨ Â· ğŸ˜´ ç¡çœ  Â· ğŸ’ª æ¢å¤ Â· ğŸ è¥å…» â€” å…¨æ–¹ä½ä¸ªäººå¥åº·ç®¡ç†</strong>
</p>

<p align="center">
  åŸºäº <b>Polarï¼ˆè®­ç»ƒæ•°æ®ï¼‰+ Ouraï¼ˆæ¢å¤æ•°æ®ï¼‰+ AI æ™ºèƒ½åˆ†æ</b> çš„å¥åº·åŠ©ç†ç³»ç»Ÿ
</p>


---

## âœ¨ æ ¸å¿ƒåŠŸèƒ½

### ğŸ“Š æ•°æ®é›†æˆ
| æ•°æ®æº | é‡‡é›†å†…å®¹ |
|--------|----------|
| **Polar** | è®­ç»ƒè®°å½•ã€å¿ƒç‡åŒºé—´ï¼ˆZone1-5ï¼‰ã€è®­ç»ƒè´Ÿè·ã€å¤œé—´æ¢å¤ |
| **Oura** | ç¡çœ è´¨é‡ã€HRVã€å‡†å¤‡åº¦ã€å‹åŠ›ã€æ´»åŠ¨ã€è¡€æ°§ |
| **è¥å…»** | æ‹ç…§è¯†åˆ«é£Ÿç‰©ï¼ŒAI åˆ†æè¥å…»æˆåˆ†å’Œçƒ­é‡ |

### ğŸ¤– AI æ™ºèƒ½åˆ†æ
- **æ¯æ—¥å¥åº·å»ºè®®** â€” ç»¼åˆè®­ç»ƒ+æ¢å¤æ•°æ®ï¼Œç”Ÿæˆä¸ªæ€§åŒ–è®­ç»ƒå»ºè®®
- **é£é™©è¯„ä¼°** â€” 9 ç§é£é™©æ ‡è®°ï¼ˆZone2 ä¸è¶³ã€é«˜å¼ºåº¦è¿‡é‡ã€å‘¨è´Ÿè·è¿‡è½½ç­‰ï¼‰
- **è¶‹åŠ¿åˆ†æ** â€” 7 å¤©è®­ç»ƒæ—¶é•¿ã€Zone2ã€TRIMPã€HRV è¶‹åŠ¿å›¾è¡¨

### ğŸ“± å¤šç«¯æ”¯æŒ
- **å¾®ä¿¡å°ç¨‹åº** â€” ç§»åŠ¨ç«¯æŸ¥çœ‹å’Œç®¡ç†
- **Web åº”ç”¨** â€” Apple Health é£æ ¼ UI

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               ç”¨æˆ·ç«¯ (å°ç¨‹åº / Web)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ HTTPS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    FastAPI Backend                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   API Layer: /polar /oura /training /ai /nutrition   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   AI Providers: DeepSeek / Qwen / Gemini Vision      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   Data Layer: PostgreSQL + Redis + APScheduler       â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚              â”‚              â”‚
    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â”
    â”‚  Polar  â”‚    â”‚  Oura   â”‚    â”‚ Gemini  â”‚
    â”‚   API   â”‚    â”‚   API   â”‚    â”‚ Vision  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| å±‚çº§ | æŠ€æœ¯ |
|------|------|
| **åç«¯** | FastAPI + Python 3.10 (å¼‚æ­¥) |
| **æ•°æ®åº“** | PostgreSQL + SQLAlchemy + Alembic |
| **ç¼“å­˜** | Redis |
| **Web å‰ç«¯** | React + Vite + TailwindCSS + Recharts |
| **å°ç¨‹åº** | å¾®ä¿¡åŸç”Ÿ + ECharts |
| **AI æœåŠ¡** | DeepSeek / Qwenï¼ˆæ–‡æœ¬ï¼‰ã€Gemini Visionï¼ˆå›¾åƒï¼‰ |
| **å®šæ—¶ä»»åŠ¡** | APScheduler |
| **éƒ¨ç½²** | Nginx + systemd + Let's Encrypt |

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
VitalMatrix/
â”œâ”€â”€ backend/                 # FastAPI åç«¯
â”‚   â”œâ”€â”€ app/
â”‚   â”‚   â”œâ”€â”€ api/v1/          # API è·¯ç”±
â”‚   â”‚   â”œâ”€â”€ models/          # æ•°æ®åº“æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ services/        # ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ ai/              # AI æä¾›è€…
â”‚   â”‚   â””â”€â”€ integrations/    # Polar/Oura é›†æˆ
â”‚   â”œâ”€â”€ alembic/             # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ config/prompts/      # AI æç¤ºè¯
â”œâ”€â”€ web/                     # React Web å‰ç«¯
â”‚   â””â”€â”€ src/
â”‚       â”œâ”€â”€ pages/           # é¡µé¢ç»„ä»¶
â”‚       â””â”€â”€ components/      # UI ç»„ä»¶
â”œâ”€â”€ miniprogram/             # å¾®ä¿¡å°ç¨‹åº
â”‚   â””â”€â”€ pages/
â”‚       â”œâ”€â”€ index/           # é¦–é¡µ
â”‚       â”œâ”€â”€ trends/          # è¶‹åŠ¿
â”‚       â”œâ”€â”€ ai/              # AI å»ºè®®
â”‚       â”œâ”€â”€ nutrition/       # è¥å…»
â”‚       â””â”€â”€ settings/        # è®¾ç½®
â”œâ”€â”€ mcp-server/              # Claude Code MCP é›†æˆ
â””â”€â”€ deploy/                  # éƒ¨ç½²é…ç½®
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å…‹éš†ä»“åº“

```bash
git clone https://github.com/anon019/VitalMatrix.git
cd VitalMatrix
```

### 2. åç«¯é…ç½®

```bash
cd backend
python -m venv venv
source venv/bin/activate
pip install -r requirements.txt

# é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env å¡«å…¥ API Keys
```

### 3. æ•°æ®åº“åˆå§‹åŒ–

```bash
createdb health_db
alembic upgrade head
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# è®¿é—® API æ–‡æ¡£
open http://localhost:8000/docs
```

### 5. Web å‰ç«¯

```bash
cd web
npm install
npm run dev
```

---

## âš™ï¸ ç¯å¢ƒå˜é‡

```bash
# æ•°æ®åº“
DATABASE_URL=postgresql+asyncpg://user:pass@localhost:5432/health_db
REDIS_URL=redis://localhost:6379/0

# Polar OAuth
POLAR_CLIENT_ID=your-client-id
POLAR_CLIENT_SECRET=your-client-secret

# Oura OAuth
OURA_CLIENT_ID=your-client-id
OURA_CLIENT_SECRET=your-client-secret

# AI æœåŠ¡
DEEPSEEK_API_KEY=your-api-key
GOOGLE_API_KEY=your-api-key  # Gemini
```

---

## ğŸ“¡ API ç«¯ç‚¹

| æ¨¡å— | ç«¯ç‚¹ | è¯´æ˜ |
|------|------|------|
| **Dashboard** | `GET /api/v1/dashboard/today` | ä»Šæ—¥ç»¼åˆæ•°æ® |
| **Polar** | `POST /api/v1/polar/sync` | åŒæ­¥è®­ç»ƒæ•°æ® |
| **Oura** | `POST /api/v1/oura/sync` | åŒæ­¥æ¢å¤æ•°æ® |
| **Training** | `GET /api/v1/training/weekly` | å‘¨è®­ç»ƒæ±‡æ€» |
| **AI** | `GET /api/v1/ai/recommendation/today` | ä»Šæ—¥ AI å»ºè®® |
| **Nutrition** | `POST /api/v1/nutrition/upload` | ä¸Šä¼ é¤é£Ÿç…§ç‰‡åˆ†æ |
| **Trends** | `GET /api/v1/trends/overview` | è¶‹åŠ¿æ•°æ® |

---

## ğŸ“Š AI å»ºè®®ç»“æ„

AI ç”Ÿæˆçš„å¥åº·å»ºè®®åŒ…å«ï¼š

- **æ˜¨æ—¥è¯„ä»·** â€” è®­ç»ƒè¯„åˆ†ã€ç¡çœ è¯„åˆ†ã€æ¢å¤è¯„åˆ†
- **ä»Šæ—¥å»ºè®®** â€” å»ºè®®å¼ºåº¦ã€æ—¶é•¿ã€å…·ä½“ç†ç”±
- **é£é™©è¯„ä¼°** â€” è¿‡åº¦è®­ç»ƒã€ä¼‘æ¯ä¸è¶³ç­‰é£é™©æ ‡è®°
- **è¡ŒåŠ¨é¡¹** â€” å…·ä½“å¯æ‰§è¡Œçš„å¥åº·å»ºè®®

---

## ğŸ”’ éšç§è¯´æ˜

- æ‰€æœ‰å¥åº·æ•°æ®ä»…å­˜å‚¨åœ¨ä½ çš„ç§æœ‰æœåŠ¡å™¨
- ä¸æ”¶é›†æˆ–åˆ†äº«ä»»ä½•ç”¨æˆ·æ•°æ®
- API Keys é€šè¿‡ç¯å¢ƒå˜é‡å®‰å…¨ç®¡ç†

---

## ğŸ“œ License

MIT License

---

## ğŸ™ è‡´è°¢

- [Polar](https://www.polar.com/) â€” ä¸“ä¸šè¿åŠ¨æ•°æ®
- [Oura](https://ouraring.com/) â€” ç¡çœ ä¸æ¢å¤è¿½è¸ª
- [DeepSeek](https://www.deepseek.com/) â€” AI æ¨¡å‹æœåŠ¡
- [FastAPI](https://fastapi.tiangolo.com/) â€” ç°ä»£ Python Web æ¡†æ¶
